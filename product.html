<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Produit ‚Äî Business Explique</title>
    <meta name="description" content="Digital product ebooks on business topics ‚Äî Business Explique. Download premium guides, frameworks, and templates instantly." />
    <meta name="keywords" content="digital product, ebook, business explained, business explique, business, explained, pdf ebook, bundle, templates" />
    <link rel="canonical" href="https://business-explique.com/product.html" />
    <meta property="og:site_name" content="Business Explique" />
    <meta property="og:type" content="product" />
    <meta property="og:title" content="Business Explique ‚Äî Digital eBooks" />
    <meta property="og:description" content="Premium digital product ebooks. Instant access. Practical frameworks and templates." />
    <meta property="og:image" content="/images/ebooks/all_pack.png" />
    <meta property="og:url" content="https://business-explique.com/product.html" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Business Explique ‚Äî Digital eBooks" />
    <meta name="twitter:description" content="Premium digital product ebooks. Instant access. Practical frameworks and templates." />
    <meta name="twitter:image" content="/images/ebooks/all_pack.png" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/styles.css" />
    <style>
      .pd-wrap { padding: 28px 0 60px; }
      .pd-hero { display:grid; grid-template-columns: 1.1fr 0.9fr; gap: 20px; align-items: start; }
      .pd-media img { border-radius: 16px; box-shadow: 0 10px 30px rgba(0,0,0,.12); }
      .pd-title { margin: 0 0 6px; font-size: clamp(24px, 3vw, 36px); line-height: 1.15; }
      .pd-sub { color: var(--muted); margin: 0 0 10px; }
      .pd-actions { display:flex; gap:10px; flex-wrap:wrap; margin-top: 8px; }
      .pd-price { font-size: 22px; font-weight: 800; color: var(--primary); }
      .pd-feature-list { list-style:none; padding:0; margin:16px 0 0; display:grid; gap:8px; color: var(--muted); }
      .pd-feature-list li { position: relative; padding-left: 24px; }
      .pd-feature-list li::before { content: "‚úî"; position:absolute; left:0; top:0; color:#16a34a; font-weight:800; }
      @media (max-width: 900px){ .pd-hero { grid-template-columns: 1fr; } }
      .bundle-card { margin-top: 16px; }
      .bundle-list { max-height: 360px; overflow: auto; border-radius: 12px; background: #fff; }
      .bundle-item { display:flex; align-items:center; gap:12px; padding:12px 14px; border-bottom: 1px solid #eee; }
      .bundle-item:last-child { border-bottom: 0; }
      .bundle-item .title { font-weight:600; }
      .bundle-item .price { margin-left:auto; color:#6b7280; font-weight:700; }
      .bundle-item .thumb { width:40px; height:40px; border-radius:8px; object-fit:cover; background:#f3f4f6; }
    </style>
  </head>
  <body>
    <header class="site-header">
      <div class="container header-inner">
        <a class="brand" href="/products.html" aria-label="Retour aux produits">
          <span class="brand-logo" aria-hidden="true">B</span>
          <span class="brand-text">Business Explique</span>
        </a>
      </div>
    </header>

    <main class="container pd-wrap">
      <nav aria-label="Fil d'Ariane" style="margin-bottom: 14px;">
        <a class="btn" href="/products.html">‚Üê Back to products</a>
      </nav>
      <section class="pd-hero">
        <div class="pd-media">
          <img id="pd-image" src="images/ebooks/all_pack2.png" alt="Product" />
        </div>
        <div class="pd-copy">
          <h1 id="pd-title" class="pd-title">Product</h1>
          <p id="pd-sub" class="pd-sub">Digital download ‚Ä¢ Instant access</p>
          <div class="pd-stats" aria-label="Product stats" style="display:grid; grid-template-columns: repeat(3, max-content); gap: 20px; align-items:center; margin: 8px 0 12px;">
            <div style="display:flex; align-items:center; gap:8px;">
              <span aria-hidden="true">üìÑ</span>
              <span>PDF eBook</span>
            </div>
            <div style="display:flex; align-items:center; gap:8px;">
              <span aria-hidden="true">üìò</span>
              <span><strong id="pd-pages">70</strong> Pages</span>
            </div>
            <div style="display:flex; align-items:center; gap:8px;">
              <span aria-hidden="true">‚úçÔ∏è</span>
              <span>100% Human Written</span>
            </div>
          </div>
          <div class="pd-price" id="pd-price">0‚Ç¨</div>
          <div class="pd-actions">
            <a id="pd-buy" class="btn btn-primary add-to-cart" data-id="" data-name="" data-price="0">Add to cart</a>
            <a class="btn" href="#content">More details</a>
          </div>
          <div class="pd-trust" style="margin-top:6px; color:#6b7280; display:flex; align-items:center; gap:8px;">
            <span aria-hidden="true">üîí</span>
            <small>Safe and Secure Checkout</small>
          </div>
          <ul class="pd-feature-list">
            <li>Practical frameworks and templates.</li>
            <li>Instant download after payment.</li>
            <li>Free updates included.</li>
            <li>Secure checkout (Stripe & PayPal).</li>
          </ul>
        </div>
      </section>

      <section id="content" style="margin-top: 28px;">
        <div class="card">
          <div class="card-body">
            <h3>What you'll get</h3>
            <p id="pd-desc">A premium-quality digital product designed to accelerate your business performance. Includes actionable insights, ready-to-use checklists, and step-by-step guidance.</p>
          </div>
        </div>
        <div class="card bundle-card" id="bundle-section" style="display:none;">
          <div class="card-body">
            <h3 style="margin-bottom:8px;">Items Included</h3>
            <p style="margin-top:0;color:#6b7280;">Worth of products if bought separately</p>
            <div style="margin:8px 0 12px;">
              <a id="bundle-buy" class="btn btn-primary add-to-cart" data-id="" data-name="" data-price="">Add bundle to cart</a>
            </div>
            <div id="bundle-items" class="bundle-list" role="list"></div>
            <p id="bundle-note" style="margin-top:8px;color:#374151; display:none;">Dive into 3000+ pages of high-quality business knowledge.</p>
            <div style="margin-top:12px;">
              <a id="bundle-buy-bottom" class="btn btn-primary add-to-cart" data-id="" data-name="" data-price="">Add bundle to cart</a>
            </div>
          </div>
        </div>
      </section>
    </main>

    <!-- Shared cart drawer -->
    <aside class="cart-drawer" aria-label="Panier" aria-hidden="true">
      <div class="cart-header"><h3>Panier</h3><button class="btn" data-cart-close>Close</button></div>
      <div class="cart-items" role="list"></div>
      <div class="cart-footer"><div class="cart-total"><span>Total</span><strong class="total-amount">0‚Ç¨</strong></div><div style="display:grid; gap:8px;">
          <input id="buyer-email" type="email" placeholder="Votre email pour recevoir les liens" aria-invalid="false" />
          <small id="buyer-email-hint" class="form-hint" style="display:none;">Veuillez entrer un email valide.</small>
          <button class="btn btn-primary" data-checkout>Payer (Stripe)</button><button class="btn" data-checkout-paypal>Payer avec PayPal</button></div></div>
    </aside>

    <footer class="site-footer" aria-label="Footer">
      <div class="container footer-bottom">
        <p class="small">¬© <span id="year"></span>, Business Explique</p>
        <ul class="social"><li><a href="#">Instagram</a></li><li><a href="#">TikTok</a></li><li><a href="#">Facebook</a></li></ul>
      </div>
    </footer>

    <script src="./script.js?v=12" defer></script>
    <script>
      (function(){
        const qp = new URLSearchParams(location.search);
        const id = qp.get('id') || 'product';
        const name = qp.get('name') || 'Product';
        const price = Number(qp.get('price') || 0);
        const hasUrlPrice = qp.has('price') && !isNaN(price) && price > 0;
        const defaultPrice = (name === 'Everything Explained Bundle' || id === 'pack') ? 139 : 29;
        const finalPrice = hasUrlPrice ? price : defaultPrice;
        const isBundle = (name === 'Everything Explained Bundle' || id === 'pack');
        // Fallback map (will be used only if local image is missing)
        const imgMap = {
          t1: 'images/ebooks/t1.png',
          o1: 'images/ebooks/Organizational_Management_Explained.png',
          c1: 'images/ebooks/c1.png',
          b1: 'images/ebooks/b1.png',
          m1: 'images/ebooks/m1.png',
          ca1:'images/ebooks/ca1.png',
          s1: 'images/ebooks/s1.png',
          sm1:'images/ebooks/sm1.png',
          pim1:'images/ebooks/pim1.png',
          pm1: 'images/ebooks/pm1.png',
          hr1: 'images/ebooks/hr1.png',
          pack:'images/ebooks/all_pack.png'
        };
        const titleEl = document.getElementById('pd-title');
        const priceEl = document.getElementById('pd-price');
        const imgEl = document.getElementById('pd-image');
        const buyEl = document.getElementById('pd-buy');
        const subEl = document.getElementById('pd-sub');
        const descEl = document.getElementById('pd-desc');
        const pagesEl = document.getElementById('pd-pages');
        function slugify(s){ return String(s||'').toLowerCase().trim().replace(/&/g,' and ').replace(/[^a-z0-9]+/g,'-').replace(/(^-|-$)/g,''); }
        function underscored(s){ return String(s||'').trim().replace(/[^A-Za-z0-9]+/g,'_').replace(/^_+|_+$/g,''); }
        function candidateImages(name, id){
          var base = 'images/ebooks/';
          var dash = slugify(name);
          var under = underscored(name);
          var out = [
            // Prioritize your current naming style
            base + under + '.png',
            base + under + '.jpg',
            base + dash + '.png',
            base + dash + '.jpg',
            // Uppercase extension variants (some servers are case-sensitive)
            base + under + '.PNG',
            base + under + '.JPG',
            base + dash + '.PNG',
            base + dash + '.JPG',
            // JPEG long variant
            base + under + '.jpeg',
            base + dash + '.jpeg'
          ];
          if (id) {
            out.push(base + id + '.png', base + id + '.jpg', base + id + '.PNG', base + id + '.JPG', base + id + '.jpeg');
          }
          return out;
        }
        function setSrcWithFallback(img, candidates, fallback){
          var list = Array.isArray(candidates) ? candidates.slice() : [];
          function tryNext(){
            if (!list.length){ img.onerror = null; img.src = fallback; return; }
            var next = list.shift();
            img.onerror = tryNext; img.src = next;
          }
          try { console.debug('[image-candidates]', candidates); } catch(_) {}
          tryNext();
        }
        titleEl.textContent = name;
        priceEl.textContent = finalPrice + '‚Ç¨';
        var fallbackSrc = imgMap[id] || imgEl.src;
        setSrcWithFallback(imgEl, candidateImages(name, id), fallbackSrc);
        imgEl.alt = name;
        buyEl.setAttribute('data-id', id);
        buyEl.setAttribute('data-name', name);
        buyEl.setAttribute('data-price', String(finalPrice));
        buyEl.textContent = 'Add to cart for ' + finalPrice + '‚Ç¨';

        // Optional: pages and features per product
        const pagesById = {
          hr1: 70
        };
        if (pagesEl) {
          var pagesWrap = pagesEl.parentElement && pagesEl.parentElement.parentElement;
          if (isBundle) {
            if (pagesWrap) pagesWrap.style.display = 'none';
          } else {
            if (pagesWrap) pagesWrap.style.display = '';
            pagesEl.textContent = pagesById[id] || 70;
          }
        }
        // Product-specific bullets (example for Housing Crisis)
        const featuresById = {
          hr1: [
            'Overview of the Housing Crisis',
            'Causes, Impacts, Solutions',
            'Key Contributing Factors'
          ]
        };
        const featList = document.querySelector('.pd-feature-list');
        if (featList && featuresById[id]) {
          featList.innerHTML = featuresById[id].map(t => '<li>'+t+'</li>').join('');
        }

        // --- SEO: dynamic meta tags and JSON-LD ---
        function setMeta(name, content){
          if (!content) return;
          let m = document.querySelector('meta[name="'+name+'"]');
          if (!m) { m = document.createElement('meta'); m.setAttribute('name', name); document.head.appendChild(m); }
          m.setAttribute('content', content);
        }
        function setMetaProp(prop, content){
          if (!content) return;
          let m = document.querySelector('meta[property="'+prop+'"]');
          if (!m) { m = document.createElement('meta'); m.setAttribute('property', prop); document.head.appendChild(m); }
          m.setAttribute('content', content);
        }
        function setOrCreate(tag, attrs){
          let el = document.querySelector(tag);
          if (!el) { el = document.createElement(tag); document.head.appendChild(el); }
          Object.keys(attrs||{}).forEach(k=> el.setAttribute(k, attrs[k]));
          return el;
        }
        const url = location.href;
        const title = name + ' ‚Äî Business Explique';
        const desc = (featuresById[id] ? featuresById[id].join('. ') : 'Premium digital product eBook by Business Explique.') + ' Instant access.';
        document.title = title;
        setMeta('description', desc);
        setMeta('keywords', [name, 'digital product', 'ebook', 'business explained', 'business explique', 'business', 'explained', 'pdf ebook', 'bundle'].join(', '));
        setMetaProp('og:title', name);
        setMetaProp('og:description', desc);
        setMetaProp('og:type', 'product');
        setMetaProp('og:url', url);
        setMeta('twitter:title', name);
        setMeta('twitter:description', desc);
        setOrCreate('link[rel="canonical"]', { rel: 'canonical', href: url });

        function updateOgImage(src){
          if (!src) return;
          setMetaProp('og:image', src);
          setMeta('twitter:image', src);
        }
        // set now with current src; updates if it changes later
        updateOgImage(imgEl.src);
        imgEl.addEventListener('load', function(){ updateOgImage(imgEl.currentSrc || imgEl.src); }, { once: true });
        imgEl.addEventListener('error', function(){ updateOgImage(imgEl.src); }, { once: true });

        // JSON-LD Product
        const ld = {
          '@context':'https://schema.org',
          '@type':'Product',
          'name': name,
          'image': [ imgEl.src ],
          'description': desc,
          'brand': { '@type':'Organization', 'name':'Business Explique' },
          'url': url,
          'offers': {
            '@type':'Offer',
            'priceCurrency':'EUR',
            'price': String(finalPrice),
            'availability':'https://schema.org/InStock',
            'url': url
          }
        };
        const scriptLd = document.createElement('script');
        scriptLd.type = 'application/ld+json';
        scriptLd.textContent = JSON.stringify(ld);
        document.head.appendChild(scriptLd);

        if (name === 'Everything Explained Bundle' || id === 'pack') {
          if (subEl) subEl.textContent = 'Digital bundle ‚Ä¢ Instant access ‚Ä¢ One-time payment';
          if (descEl) descEl.innerHTML = `
            <p>The Everything Explained Bundle is a comprehensive collection of business eBooks covering marketing, leadership, finance, technology and more. See the list of all items included below.</p>
          `;
          const bundleEl = document.getElementById('bundle-section');
          const listEl = document.getElementById('bundle-items');
          const bundleBuy = document.getElementById('bundle-buy');
          const bundleBuyBottom = document.getElementById('bundle-buy-bottom');
          function localThumbs(title){ return candidateImages(title); }
          const items = [
            'Organizational Management Explained',
            'Entrepreneurship Explained',
            'Marketing Frameworks Explained',
            'Market Research Explained',
            'Strategic Management Explained',
            'Process Improvement Strategies Explained',
            'Project Management Explained',
            'Human Resources Explained',
            'Leadership Strategies Explained',
            'Negotiation Strategies Explained',
            'Productivity Strategies Explained',
            'Financial Management Explained',
            'Risk Management Explained',
            'Soft Skills Explained',
            'Change Management Strategies Explained',
            'Employee Engagement Strategies Explained',
            '360-Degree Feedback Explained',
            'Talent Management & Onboarding Explained',
            'Performance Management Strategies Explained',
            'Brand Development Explained',
            'Ecommerce Explained',
            'Financial Crisis Explained',
            'Housing Crisis Explained',
            'Customer Relationship Explained',
            'Scrum Manual',
            'Kanban Manual',
            'Agile Manual',
            'Artificial Intelligence in Business Explained',
            'Cyber Security Explained',
            'Machine Learning Explained',
            'Virtual Reality Explained'
          ];
          if (bundleEl && listEl) {
            bundleEl.style.display = 'block';
            listEl.innerHTML = items.map((t) => {
              return `
              <div class="bundle-item" role="listitem">
                <img class="thumb" alt="" data-title="${t.replace(/&/g,'&amp;')}" />
                <div class="title">${t}</div>
                <div class="price">29‚Ç¨</div>
              </div>
            `;}).join('');
            listEl.querySelectorAll('img.thumb').forEach(function(im){
              var t = im.getAttribute('data-title') || '';
              setSrcWithFallback(im, localThumbs(t), 'https://images.unsplash.com/photo-1556761175-b413da4baf72?w=160&q=70&auto=format&fit=crop');
            });
            const noteEl = document.getElementById('bundle-note');
            if (noteEl) noteEl.style.display = 'block';
            const fillBtn = (btn) => { if (!btn) return; btn.setAttribute('data-id', id); btn.setAttribute('data-name', name); btn.setAttribute('data-price', String(finalPrice)); btn.textContent = `Add to cart ‚Äî ${finalPrice}‚Ç¨`; };
            fillBtn(bundleBuy);
            fillBtn(bundleBuyBottom);
          }
        }
      })();
    </script>
  </body>
</html>
